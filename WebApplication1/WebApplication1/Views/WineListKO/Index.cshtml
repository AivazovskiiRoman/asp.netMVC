<script src="@Url.Content("~/Scripts/knockout-3.3.0.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery-2.1.4.min.js")" type="text/javascript"></script>

<h2>Список вин Крыма (Knockout)</h2>

<input type="button" id="btnaddwine" class="btn btn-small btn-primary" value="Создать новую запись" />
<hr />
<div class="panel panel-default pre-scrollable">
    <table class="table table-striped table-bordered table-responsive table-condensed table-hover">
        <thead>
            <tr>
                <th>№</th>
                <th>Название</th>
                <th>Цвет</th>
                <th>Срок выдержки (года)</th>
                <th>Крепость (об.%)</th>
                <th>Цена (руб.)</th>
            </tr>
        </thead>
        <tbody data-bind="foreach:WineListKO">
            <tr>
                <td>
                    <span data-bind="text:ID"></span>
                </td>
                <td>
                    <span data-bind="text:Title"></span>
                </td>
                <td>
                    <span data-bind="text:Color"></span>
                </td>
                <td>
                    <span data-bind="text:TermExposure"></span>
                </td>
                <td>
                    <span data-bind="text:Fortress"></span>
                </td>
                <td>
                    <span data-bind="text:Price"></span>
                </td>
                <td>
                    <button class="glyphicon glyphicon-pencil" data-bind="click:$root.getSelected" />
                </td>
                <td>
                    <button class="glyphicon glyphicon-trash" data-bind="click:$root.delete" />
                </td>
            </tr>
        </tbody>
    </table>
</div>

<div id="modalbox" class="modal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h1>Добавить новую запись</h1>
            </div>
            <div class="modal-body">
                <table class="table table-condensed table-striped table-bordered">
                    <tr>
                        <td>Название:</td>
                        <td>
                            <input type="text" data-bind="value:Title" class="form-control" />
                        </td>
                    </tr>
                    <tr>
                        <td>Цвет:</td>
                        <td>
                            <input type="text" data-bind="value:Color" class="form-control" />
                        </td>
                    </tr>
                    <tr>
                        <td>Срок выдержки (года):</td>
                        <td>
                            <input type="text" data-bind="value:TermExposure" class="form-control" />
                        </td>
                    </tr>
                    <tr>
                        <td>Крепость (об.%)</td>
                        <td>
                            <input type="text" data-bind="value:Fortress" class="form-control" />
                        </td>
                    </tr>
                    <tr>
                        <td>Цена (руб.):</td>
                        <td>
                            <input type="text" data-bind="value:Price" class="form-control" />
                        </td>
                    </tr>
                </table>
            </div>
            <div class="modal-footer">
                <button class="btn btn-default" data-dismiss="modal">Закрыть</button>
                <button class="btn btn-primary" data-bind="click:save">Добавить</button>
            </div>
        </div>
    </div>
</div>

<script src="@Url.Content("~/Scripts/bootstrap.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/wineListKO.js")" type="text/javascript"></script>

<script type="text/javascript">
    $(function () {
        var modelbox = function () {
            $("#modalbox").modal("show");
        };
        $("#btnaddwine").on('click', modelbox);

    });
</script>